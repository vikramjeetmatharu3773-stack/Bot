<!doctype html>
<html><head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Search - AllFetchX</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white p-4">
  <div class="max-w-md mx-auto">
    <h1 class="text-xl font-bold">Search</h1>
    <form id="s">
      <input name="q" class="w-full p-2 mt-2 rounded bg-transparent border" placeholder="Search public resources">
    </form>
    <div id="results" class="mt-4 space-y-2"></div>
  </div>
  <script>
    document.getElementById('s').addEventListener('submit', async e=>{
      e.preventDefault(); const q=e.target.q.value; const f=new FormData(); f.append('q', q);
      const r=await fetch('/api/search',{method:'POST',body:f}); const j=await r.json();
      const el=document.getElementById('results'); el.innerHTML=''; j.results.forEach(it=>{el.insertAdjacentHTML('beforeend', `<a class=\"block p-3 bg-white/5 rounded\" href=\"${it.url}\">${it.title}</a>`)});
    })
  </script>
</body></html>
